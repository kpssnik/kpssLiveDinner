/*!
 * baguetteBox.js
 * @author  feimosi
 * @version 1.10.0
 * @url https://github.com/feimosi/baguetteBox.js
 */
!function(n,t){"use strict";"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():n.baguetteBox=t()}(undefined,function(){"use strict";function bt(n){if(v.hasOwnProperty(n)){var t=v[n].galleries;[].forEach.call(t,function(n){[].forEach.call(n,function(n){f(n.imageElement,"click",n.eventHandler)});a===n&&(a=[])});delete v[n]}}function rt(n){switch(n.keyCode){case 37:g();break;case 39:d();break;case 27:p()}}function kt(r,u){if(a!==r){for(a=r,function(r){r||(r={});for(var u in ot)n[u]=ot[u],"undefined"!=typeof r[u]&&(n[u]=r[u]);i.style.transition=i.style.webkitTransition="fadeIn"===n.animation?"opacity .4s ease":"slideIn"===n.animation?"":"none";"auto"===n.buttons&&("ontouchstart"in window||1===a.length)&&(n.buttons=!1);e.style.display=h.style.display=n.buttons?"":"none";try{t.style.backgroundColor=n.overlayBackgroundColor}catch(f){}}(u);i.firstChild;)i.removeChild(i.firstChild);y.length=0;for(var o,c=[],l=[],f=0;f<r.length;f++)(o=s("div")).className="full-image",o.id="baguette-img-"+f,y.push(o),c.push("baguetteBox-figure-"+f),l.push("baguetteBox-figcaption-"+f),i.appendChild(y[f]);t.setAttribute("aria-labelledby",c.join(" "));t.setAttribute("aria-describedby",l.join(" "))}}function dt(i){n.noScrollbars&&(document.documentElement.style.overflowY="hidden",document.body.style.overflowY="scroll");"block"!==t.style.display&&(o(document,"keydown",rt),u={count:0,startX:null,startY:null},k(r=i,function(){ft(r);et(r)}),ti(),t.style.display="block",n.fullScreen&&(t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen&&t.mozRequestFullScreen()),setTimeout(function(){t.className="visible";n.bodyClass&&document.body.classList&&document.body.classList.add(n.bodyClass);n.afterShow&&n.afterShow()},50),n.onChange&&n.onChange(r,y.length),tt=document.activeElement,gt(),nt=!0)}function gt(){n.buttons?e.focus():c.focus()}function p(){n.noScrollbars&&(document.documentElement.style.overflowY="auto",document.body.style.overflowY="auto");"none"!==t.style.display&&(f(document,"keydown",rt),t.className="",setTimeout(function(){t.style.display="none";document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();n.bodyClass&&document.body.classList&&document.body.classList.remove(n.bodyClass);n.afterHide&&n.afterHide();tt&&tt.focus();nt=!1},500))}function k(t,i){var h=y[t],c=a[t],o,u;if(void 0!==h&&void 0!==c)if(h.getElementsByTagName("img")[0])i&&i();else{var f=c.imageElement,l=f.getElementsByTagName("img")[0],e="function"==typeof n.captions?n.captions.call(a,f):f.getAttribute("data-caption")||f.title,v=function(n){var u=n.href,i,t;if(n.dataset){i=[];for(t in n.dataset)"at-"!==t.substring(0,3)||isNaN(t.substring(3))||(i[t.replace("at-","")]=n.dataset[t]);for(var f=Object.keys(i).sort(function(n,t){return parseInt(n,10)<parseInt(t,10)?-1:1}),e=window.innerWidth*window.devicePixelRatio,r=0;r<f.length-1&&f[r]<e;)r++;u=i[f[r]]||u}return u}(f),r=s("figure");(r.id="baguetteBox-figure-"+t,r.innerHTML='<div class="baguetteBox-spinner"><div class="baguetteBox-double-bounce1"><\/div><div class="baguetteBox-double-bounce2"><\/div><\/div>',n.captions&&e)&&(o=s("figcaption"),o.id="baguetteBox-figcaption-"+t,o.innerHTML=e,r.appendChild(o));h.appendChild(r);u=s("img");u.onload=function(){var u=document.querySelector("#baguette-img-"+t+" .baguetteBox-spinner");r.removeChild(u);!n.async&&i&&i()};u.setAttribute("src",v);u.alt=l&&l.alt||"";n.titleTag&&e&&(u.title=e);r.appendChild(u);n.async&&i&&i()}}function d(){return ut(r+1)}function g(){return ut(r-1)}function ut(t,i){return!nt&&t>=0&&t<i.length?(kt(i,n),dt(t),!0):t<0?(n.animation&&ni("left"),!1):t>=y.length?(n.animation&&ni("right"),!1):(k(r=t,function(){ft(r);et(r)}),ti(),n.onChange&&n.onChange(r,y.length),!0)}function ni(n){i.className="bounce-from-"+n;setTimeout(function(){i.className=""},400)}function ti(){var t=100*-r+"%";"fadeIn"===n.animation?(i.style.opacity=0,setTimeout(function(){l.transforms?i.style.transform=i.style.webkitTransform="translate3d("+t+",0,0)":i.style.left=t;i.style.opacity=1},400)):l.transforms?i.style.transform=i.style.webkitTransform="translate3d("+t+",0,0)":i.style.left=t}function ft(t){t-r>=n.preload||k(t+1,function(){ft(t+1)})}function et(t){r-t>=n.preload||k(t-1,function(){et(t-1)})}function o(n,t,i,r){n.addEventListener?n.addEventListener(t,i,r):n.attachEvent("on"+t,function(n){(n=n||window.event).target=n.target||n.srcElement;i(n)})}function f(n,t,i,r){n.removeEventListener?n.removeEventListener(t,i,r):n.detachEvent("on"+t,i)}function w(n){return document.getElementById(n)}function s(n){return document.createElement(n)}var t,i,e,h,c,ii='<svg width="44" height="60"><polyline points="30 10 10 30 30 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/><\/svg>',ri='<svg width="44" height="60"><polyline points="14 10 34 30 14 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/><\/svg>',ui='<svg width="30" height="30"><g stroke="rgb(160,160,160)" stroke-width="4"><line x1="5" y1="5" x2="25" y2="25"/><line x1="5" y1="25" x2="25" y2="5"/><\/g><\/svg>',n={},ot={captions:!0,buttons:"auto",fullScreen:!1,noScrollbars:!1,bodyClass:"baguetteBox-open",titleTag:!1,"async":!1,preload:2,animation:"slideIn",afterShow:null,afterHide:null,onChange:null,overlayBackgroundColor:"rgba(0,0,0,.8)"},l={},a=[],r=0,nt=!1,u={},b=!1,st=/.+\.(gif|jpe?g|png|webp)/i,v={},y=[],tt=null,ht=function(n){-1!==n.target.id.indexOf("baguette-img")&&p()},ct=function(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0;g()},lt=function(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0;d()},at=function(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0;p()},vt=function(n){u.count++;u.count>1&&(u.multitouch=!0);u.startX=n.changedTouches[0].pageX;u.startY=n.changedTouches[0].pageY},yt=function(n){if(!b&&!u.multitouch){n.preventDefault?n.preventDefault():n.returnValue=!1;var t=n.touches[0]||n.changedTouches[0];t.pageX-u.startX>40?(b=!0,g()):t.pageX-u.startX<-40?(b=!0,d()):u.startY-t.pageY>100&&p()}},it=function(){u.count--;u.count<=0&&(u.multitouch=!1);b=!1},pt=function(){it()},wt=function(n){"block"===t.style.display&&t.contains&&!t.contains(n.target)&&(n.stopPropagation(),gt())};return[].forEach||(Array.prototype.forEach=function(n,t){for(var i=0;i<this.length;i++)n.call(t,this[i],i,this)}),[].filter||(Array.prototype.filter=function(n,t,i,r,u){for(i=this,r=[],u=0;u<i.length;u++)n.call(t,i[u],u,i)&&r.push(i[u]);return r}),{run:function(n,r){var b,a,y,u,p,f;return l.transforms="undefined"!=typeof(b=s("div")).style.perspective||"undefined"!=typeof b.style.webkitPerspective,l.svg=((a=s("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(a.firstChild&&a.firstChild.namespaceURI)),l.passiveEvents=function(){var n=!1,t;try{t=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,t)}catch(r){}return n}(),function(){if(t=w("baguetteBox-overlay"))return i=w("baguetteBox-slider"),e=w("previous-button"),h=w("next-button"),void(c=w("close-button"));var n;(t=s("div")).setAttribute("role","dialog");t.id="baguetteBox-overlay";document.getElementsByTagName("body")[0].appendChild(t);(i=s("div")).id="baguetteBox-slider";t.appendChild(i);(e=s("button")).setAttribute("type","button");e.id="previous-button";e.setAttribute("aria-label","Previous");e.innerHTML=l.svg?ii:"&lt;";t.appendChild(e);(h=s("button")).setAttribute("type","button");h.id="next-button";h.setAttribute("aria-label","Next");h.innerHTML=l.svg?ri:"&gt;";t.appendChild(h);(c=s("button")).setAttribute("type","button");c.id="close-button";c.setAttribute("aria-label","Close");c.innerHTML=l.svg?ui:"&times;";t.appendChild(c);e.className=h.className=c.className="baguetteBox-button";n=l.passiveEvents?{passive:!0}:null;o(t,"click",ht);o(e,"click",ct);o(h,"click",lt);o(c,"click",at);o(i,"contextmenu",pt);o(t,"touchstart",vt,n);o(t,"touchmove",yt,n);o(t,"touchend",it);o(document,"focus",wt,!0)}(),bt(n),y=n,u=r,p=document.querySelectorAll(y),f={galleries:[],nodeList:p},v[y]=f,[].forEach.call(p,function(n){var t,i;u&&u.filter&&(st=u.filter);t=[];(t="A"===n.tagName?[n]:n.getElementsByTagName("a"),0!==(t=[].filter.call(t,function(n){if(-1===n.className.indexOf(u&&u.ignoreClass))return st.test(n.href)})).length)&&(i=[],[].forEach.call(t,function(n,t){var r=function(n){n.preventDefault?n.preventDefault():n.returnValue=!1;kt(i,u);dt(t)},f={eventHandler:r,imageElement:n};o(n,"click",r);i.push(f)}),f.galleries.push(i))}),f.galleries},show:ut,showNext:d,showPrevious:g,hide:p,destroy:function(){var n;n=l.passiveEvents?{passive:!0}:null;f(t,"click",ht);f(e,"click",ct);f(h,"click",lt);f(c,"click",at);f(i,"contextmenu",pt);f(t,"touchstart",vt,n);f(t,"touchmove",yt,n);f(t,"touchend",it);f(document,"focus",wt,!0),function(){for(var n in v)v.hasOwnProperty(n)&&bt(n)}();f(document,"keydown",rt);document.getElementsByTagName("body")[0].removeChild(document.getElementById("baguetteBox-overlay"));v={};a=[];r=0}}});